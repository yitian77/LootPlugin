# ğŸ® LootPlugin - æ™ºèƒ½æœåˆ®æ–¹å—æ’ä»¶

[![Java](https://img.shields.io/badge/Java-8+-orange)](https://java.com)
[![Spigot](https://img.shields.io/badge/Spigot-1.16+-brightgreen)](https://spigotmc.org)
[![License](https://img.shields.io/badge/License-MIT-blue)](LICENSE)

ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„ Minecraft æœåˆ®æ–¹å—æ’ä»¶ï¼Œæ”¯æŒè¿›åº¦æ¡äº¤äº’ã€å…±äº«å®¹å™¨å’Œæ™ºèƒ½æˆ˜åˆ©å“ç”Ÿæˆç³»ç»Ÿã€‚

###  â—  å…è´¹åˆ†äº« ç¦æ­¢å‡ºå”®æˆ–ä»¥å…¶ä»–å½¢å¼ç›ˆåˆ©

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ§­ æ™ºèƒ½äº¤äº’ç³»ç»Ÿ
- **è¿›åº¦æ¡å¼€é”**ï¼šæ‹ŸçœŸçš„è¿›åº¦æ¡äº¤äº’ï¼Œé˜²æ­¢ç¬é—´æœåˆ®
- **å…±äº«å®¹å™¨æœºåˆ¶**ï¼šç±»ä¼¼é€ƒç¦»å¡”ç§‘å¤«çš„å…±äº«æˆ˜åˆ©å“ç³»ç»Ÿ
- **ç‹¬ç«‹å†·å´æ—¶é—´**ï¼šæ¯ä¸ªæ–¹å—ä½ç½®ç‹¬ç«‹è®¡ç®—åˆ·æ–°
- **é˜²è¯¯è§¦ä¿æŠ¤**ï¼šé˜²æ­¢ç©å®¶å¿«é€Ÿé‡å¤ç‚¹å‡»

### ğŸ é«˜çº§æˆ˜åˆ©å“ç®¡ç†
- **æ¦‚ç‡æ‰è½ç³»ç»Ÿ**ï¼šæ¯ä¸ªç‰©å“ç‹¬ç«‹æ¦‚ç‡é…ç½®
- **æ•°é‡éšæœºåŒ–**ï¼šåœ¨æœ€å¤§æ•°é‡èŒƒå›´å†…éšæœºç”Ÿæˆ
- **ä½ç½®éšæœºåŒ–**ï¼šå¯é€‰ç‰©å“åœ¨å®¹å™¨å†…éšæœºæ’åˆ—
- **è‡ªå®šä¹‰ç•Œé¢**ï¼šå¯é…ç½® GUI åç§°ã€è¡Œæ•°å’Œå¸ƒå±€

### ğŸ”Š ä¸“ä¸šéŸ³æ•ˆç³»ç»Ÿ
- **å®Œæ•´éŸ³æ•ˆæ”¯æŒ**ï¼šè¿›åº¦æ¡å¼€å§‹ã€è¿›è¡Œä¸­ã€å®Œæˆã€å®¹å™¨å¼€å…³
- **éŸ³é‡ç‹¬ç«‹æ§åˆ¶**ï¼šæ¯ä¸ªéŸ³æ•ˆç±»å‹ç‹¬ç«‹éŸ³é‡è°ƒèŠ‚
- **é™éŸ³é€‰é¡¹**ï¼šé…ç½®æ–‡ä»¶ç•™ç©ºå³å¯ç¦ç”¨å¯¹åº”éŸ³æ•ˆ
- **é”™è¯¯å®¹é”™**ï¼šæ— æ•ˆéŸ³æ•ˆåè‡ªåŠ¨ç¦ç”¨å¹¶è­¦å‘Š

### âš™ï¸ å¼ºå¤§é…ç½®ç³»ç»Ÿ
- **YAML é…ç½®æ–‡ä»¶**ï¼šæ‰€æœ‰è®¾ç½®å¯è§†åŒ–è°ƒæ•´
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šå†…ç½®ä¸­æ–‡è¯­è¨€æ–‡ä»¶ï¼Œæ˜“äºæ‰©å±•
- **å®æ—¶é‡è½½**ï¼šå‘½ä»¤é‡è½½ä¸ä¸¢å¤±æ•°æ®
- **æ•°æ®æŒä¹…åŒ–**ï¼šè‡ªåŠ¨ä¿å­˜ç©å®¶è¿›åº¦å’Œæ–¹å—çŠ¶æ€

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- **Minecraft æœåŠ¡å™¨**ï¼šSpigot / Paper 1.16 æˆ–æ›´é«˜
- **Java ç‰ˆæœ¬**ï¼šJava 8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æƒé™**ï¼šç©å®¶éœ€è¦å¯¹åº”æƒé™æ‰èƒ½ä½¿ç”¨å‘½ä»¤

### å®‰è£…æ­¥éª¤
1. ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ `LootPlugin.jar`
2. æ”¾å…¥æœåŠ¡å™¨çš„ `plugins` æ–‡ä»¶å¤¹
3. é‡å¯æœåŠ¡å™¨
4. æ’ä»¶å°†è‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºç¡€å‘½ä»¤åˆ—è¡¨

| å‘½ä»¤ | æƒé™èŠ‚ç‚¹ | æè¿° | ç¤ºä¾‹ |
|------|----------|------|------|
| `/addlootblock` | `lootplugin.addlootblock` | æ·»åŠ æ–°çš„æœåˆ®æ–¹å— | å‡†æ˜Ÿå¯¹ç€ç›®æ ‡æ–¹å— |
| `/addlootblock` | `lootplugin.removelootblock` | åˆ é™¤æœåˆ®æ–¹å— | å‡†æ˜Ÿå¯¹ç€ç›®æ ‡æ–¹å— |
| `/addlootitem` | `lootplugin.addlootitem` | å‘æ–¹å—æ·»åŠ æˆ˜åˆ©å“ | `/addlootitem 5 30` |
| `/setprogresstime` | `lootplugin.setprogresstime` | è®¾ç½®è¿›åº¦æ¡æ—¶é—´ | `/setprogresstime 3` |
| `/setrefreshtime` | `lootplugin.setrefreshtime` | è®¾ç½®åˆ·æ–°å†·å´æ—¶é—´ | `/setrefreshtime 300` |
| `/reloadlootplugin` | `lootplugin.reloadlootplugin` | é‡è½½æ’ä»¶é…ç½® | `/reloadlootplugin` |

### âš™ï¸ è¯¦ç»†é…ç½®
```
config.yml
yaml
# æˆ˜åˆ©å“æ–¹å—å®šä¹‰
loot-blocks:
MINECRAFT:DIAMOND_BLOCK:
name: "&bé’»çŸ³å®è—"
rows: 3
progress-bar-time: 5    # è¿›åº¦æ¡æ—¶é—´(ç§’)
refresh-time: 300       # åˆ·æ–°æ—¶é—´(ç§’)
randomize-items: true   # éšæœºç‰©å“ä½ç½®

# éŸ³æ•ˆç³»ç»Ÿé…ç½®
sounds:
start: "ENTITY_PLAYER_LEVELUP"      # è¿›åº¦æ¡å¼€å§‹
end: "ENTITY_EXPERIENCE_ORB_PICKUP" # è¿›åº¦æ¡å®Œæˆ
loading: "BLOCK_NOTE_BLOCK_HAT"     # åŠ è½½éŸ³æ•ˆ
container_open: "BLOCK_CHEST_OPEN"  # å®¹å™¨æ‰“å¼€ï¼ˆç•™ç©ºåˆ™ä¸æ’­æ”¾ï¼‰
container_close: "BLOCK_CHEST_CLOSE"# å®¹å™¨å…³é—­ï¼ˆç•™ç©ºåˆ™ä¸æ’­æ”¾ï¼‰

volumes:
progress: 0.5    # è¿›åº¦æ¡éŸ³æ•ˆéŸ³é‡
container: 0.3   # å®¹å™¨éŸ³æ•ˆéŸ³é‡
```
### messages_zh.yml (ä¸­æ–‡è¯­è¨€æ–‡ä»¶)
```
messages:
  permission_denied: "&cæ‚¨æ²¡æœ‰æƒé™æ‰§è¡Œæ­¤æ“ä½œã€‚"
  no_block_targeted: "&cæ²¡æœ‰æ£€æµ‹åˆ°ç›®æ ‡æ–¹å—ã€‚"
  loot_on_cooldown: "&eè¿™ä¸ªæœåˆ®æ–¹å—è¿˜åœ¨å†·å´ä¸­ï¼Œè¯·ç¨åå†è¯•ã€‚"
  loot_opened: "&aæœåˆ®æ–¹å—å·²æ‰“å¼€ï¼Œç‰©å“å·²åˆ·æ–°ã€‚"
  loot_item_added: "&aç‰©å“å·²æ·»åŠ åˆ°æœåˆ®æ–¹å— &e%s&aï¼Œæ•°é‡: &6%d&a, æ¦‚ç‡: &b%.2f%%&aã€‚"
  progress_bar_set: "&aè¿›åº¦æ¡æ—¶é—´å·²è®¾ç½®ä¸º &e%d&a ç§’ã€‚"
  refresh_time_set: "&aåˆ·æ–°æ—¶é—´å·²è®¾ç½®ä¸º &e%d&a ç§’ã€‚"
  plugin_reloaded: "&aLootPlugin æ’ä»¶å·²æˆåŠŸé‡è½½ã€‚"
  usage_add_loot_item: "&cç”¨æ³•: /addlootitem <æ•°é‡> <æ¦‚ç‡>"
  usage_set_progress_time: "&cç”¨æ³•: /setprogresstime <æ—¶é—´(ç§’)>"
  usage_set_refresh_time: "&cç”¨æ³•: /setrefreshtime <æ—¶é—´(ç§’)>"
  no_loot_block_found: "&cæ²¡æœ‰æ‰¾åˆ°å·²æ·»åŠ çš„æœåˆ®æ–¹å—ã€‚"
  loot_block_added: "&aæœåˆ®æ–¹å— &e%s&a å·²æˆåŠŸæ·»åŠ ã€‚"
  cannot_add_empty_item: "&cæ— æ³•æ·»åŠ ç©ºæ‰‹ç‰©å“ï¼Œè¯·æ‰‹æŒæœ‰æ•ˆç‰©å“ã€‚"
  loot_block_removed: "Â§aæœåˆ®æ–¹å— Â§e%sÂ§a å·²æˆåŠŸåˆ é™¤ï¼"
```
## ğŸ”§ å¼€å‘è€…æŒ‡å—
API ä½¿ç”¨ç¤ºä¾‹
```
// è·å–æ’ä»¶å®ä¾‹
LootPlugin plugin = (LootPlugin) Bukkit.getPluginManager().getPlugin("LootPlugin");

// è®¿é—®æˆ˜åˆ©å“æ–¹å—æ•°æ®
Map<String, LootBlock> allBlocks = plugin.getLootBlocks();

// è‡ªå®šä¹‰äº‹ä»¶ç›‘å¬
@EventHandler
public void onLootOpen(LootOpenEvent event) {
    // å¤„ç†è‡ªå®šä¹‰é€»è¾‘
}
```
![æ±‚èµåŠ©](https://github.com/yitian77/LootPlugin/blob/main/2.jpg)
![æ±‚èµåŠ©](https://github.com/yitian77/LootPlugin/blob/main/1.jpg)
